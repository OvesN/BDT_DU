{"datasets":[{"name":"2be5fbde","displayName":"delay by vehicle type 2 hours window","query":"SELECT * FROM gold_pid_table_avg_delay_interval;\n"},{"name":"03a3698b","displayName":"avg delay by vehicle type","query":"SELECT vehicle_type, ROUND(avg_delay, 3) AS avg_delay FROM gold_pid_table_avg_delay_by_type ORDER BY avg_delay DESC;"},{"name":"7841c5b4","displayName":"top 3 places with biggest avg delay be type","query":"SELECT \n    vehicle_type_description_en,\n    x_cord_rounded,\n    y_cord_rounded,\n    avg_delay\nFROM (\n    SELECT\n        vehicle_type_description_en,\n        x_cord_rounded,\n        y_cord_rounded,\n        avg_delay,\n        ROW_NUMBER() OVER (\n            PARTITION BY vehicle_type_description_en\n            ORDER BY avg_delay DESC\n        ) AS rn\n    FROM gold_pid_table_places_with_biggest_avg_delay\n) AS ranked\nWHERE rn <= 3\n;"}],"pages":[{"name":"78a9eee7","displayName":"PID","layout":[{"widget":{"name":"51ab27a1","queries":[{"name":"main_query","query":{"datasetName":"03a3698b","fields":[{"name":"vehicle_type","expression":"`vehicle_type`"},{"name":"avg(avg_delay)","expression":"AVG(`avg_delay`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"vehicle_type","scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"vehicle type"},"y":{"fieldName":"avg(avg_delay)","scale":{"type":"quantitative"},"displayName":"average delay"}},"frame":{"title":"Average Delay by Vehicle Type","showTitle":true}}},"position":{"x":0,"y":22,"width":4,"height":6}},{"widget":{"name":"c6d12a50","queries":[{"name":"main_query","query":{"datasetName":"2be5fbde","fields":[{"name":"vehicle_type","expression":"`vehicle_type`"},{"name":"from","expression":"`from`"},{"name":"avg_delay","expression":"`avg_delay`"}],"disaggregated":true}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"from","scale":{"type":"temporal"},"displayName":"from"},"y":{"fieldName":"avg_delay","scale":{"type":"quantitative"},"displayName":"avg_delay"},"color":{"fieldName":"vehicle_type","scale":{"type":"categorical"},"displayName":"vehicle_type"}},"frame":{"title":"Delay trend over time between vehicle type","showTitle":true}}},"position":{"x":0,"y":12,"width":6,"height":10}},{"widget":{"name":"87d4f784","queries":[{"name":"main_query","query":{"datasetName":"7841c5b4","fields":[{"name":"vehicle_type_description_en","expression":"`vehicle_type_description_en`"},{"name":"y_cord_rounded","expression":"`y_cord_rounded`"},{"name":"x_cord_rounded","expression":"`x_cord_rounded`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"symbol-map","encodings":{"coordinates":{"latitude":{"fieldName":"y_cord_rounded","displayName":"y_cord_rounded"},"longitude":{"fieldName":"x_cord_rounded","displayName":"x_cord_rounded"}},"color":{"fieldName":"vehicle_type_description_en","scale":{"type":"categorical","mappings":[{"value":"trolleybus","color":"#ff00f7"},{"value":"school trip","color":"#4800e6"}]},"displayName":"vehicle type"}},"frame":{"showTitle":true,"title":"Top 3 places with biggest avg delay by vehicle type"}}},"position":{"x":0,"y":0,"width":5,"height":12}}]}]}